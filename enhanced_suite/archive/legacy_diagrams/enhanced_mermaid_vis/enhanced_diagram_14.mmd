%%{
  init: {
    'theme': 'default',
    'themeVariables': {
      'primaryColor': '#ff6b6b',
      'primaryTextColor': '#2c3e50',
      'primaryBorderColor': '#3498db',
      'lineColor': '#34495e',
      'secondaryColor': '#f8f9fa',
      'tertiaryColor': '#e9ecef',
      'clusterBkg': '#ffffff',
      'clusterBorder': '#dee2e6',
      'fontSize': '16px',
      'fontFamily': 'Arial, sans-serif'
    }
  }
}%%

graph TB
    subgraph "Edge-Aware Loss Components"
        A[Standard Reconstruction] --> B[Edge Mask<br/>k2_neg_norm]
        A --> C[Edge-Preserving Reconstruction]
        
        C --> D[Edge Loss<br/>L_edge]
        B --> D
        
        E[Radio Physics Constraints] --> F[PINN Loss<br/>L_pinn]
        
        D --> G[Combined Loss<br/>L_total = L_rec + 2.5Ã—L_pinn]
        F --> G
    end
    
    style B fill:#ffcdd2,stroke:#c62828,stroke-width:2px,font-weight:bold
    style E fill:#e1f5fe,stroke:#0277bd,stroke-width:2px,font-weight:bold
    style G fill:#ffecb3,stroke:#ff8f00,stroke-width:2px,font-weight:bold