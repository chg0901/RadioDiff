%% Enhanced VAE Loss Architecture - Ultra Simple
graph TB
    subgraph "üéØ RECONSTRUCTION LOSS"
        A[["Ground Truth x<br/>320√ó320√ó1<br/>Original radio map"]] --> B[["Reconstruction xÃÇ<br/>320√ó320√ó1<br/>Generated output"]]
        B --> C[["L1 Loss<br/>|x - xÃÇ|‚ÇÅ<br/>Robust to outliers"]]
        B --> D[["L2 Loss<br/>|x - xÃÇ|‚ÇÇ¬≤<br/>Sensitive to errors"]]
        C --> E[["Combined Reconstruction<br/>Œª‚ÇÅL1 + Œª‚ÇÇL2<br/>Multi-objective"]]
        D --> E
    end
    
    subgraph "üìä KL DIVERGENCE LOSS"
        F[["Encoder q_œÜ(z|x)<br/>N(Œº, œÉ¬≤)<br/>Learned distribution"]] --> G[["Prior p(z)<br/>N(0, I)<br/>Standard normal"]]
        G --> H[["KL Divergence<br/>KL[q||p]<br/>Information bottleneck"]]
        H --> I[["Regularization Strength<br/>Œª_KL √ó KL<br/>Compression control"]]
    end
    
    subgraph "‚öñÔ∏è VAE OBJECTIVE"
        J[["Evidence Lower Bound<br/>ELBO = E[log p(x|z)] - KL[q||p]<br/>Variational inference"]] --> K[["Total VAE Loss<br/>L_VAE = L_rec + Œª_KL √ó L_KL<br/>Balanced objective"]]
        K --> L[["Optimization Target<br/>max_Œ∏,œÜ ELBO<br/>Model training"]]
        L --> M[["Trade-off Parameters<br/>Œª_KL = 0.1-1.0<br/>Reconstruction vs compression"]]
    end
    
    E --> J
    I --> J
    
    style A fill:#FFEBEE,stroke:#D32F2F,stroke-width:3px
    style F fill:#E3F2FD,stroke:#1976D2,stroke-width:3px
    style J fill:#E8F5E8,stroke:#388E3C,stroke-width:3px